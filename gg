#!/usr/bin/env node
const prog = require('caporal');
const app  = require('./app.js');

const ora = require('ora');
const exec = require('child_process').exec;
const util = require('./command/common/util');
const { getInstalledPath } = require('get-installed-path');
const inquirer = require('inquirer');
const opener = require("opener");

//commands
const projectInit  = require('./command/project-init');
const projectBuild = require('./command/project-build');

prog
  .version('1.0.0')
  .command('init',   'Crie um novo projeto')
  .argument('[artifactId]', 'Nome do artefato', /^[a-zA-Z0-9]+$/g)
  .argument('[groupId]', 'Nome do grupo')
  .argument('[version]', 'Versão do projeto')
  .action((args, options, logger) => projectInit.run(args, options, logger))
  .command('build',   'Faz a compilação dos módulos')
  .action((args, options, logger) => projectBuild.run(args, options, logger))


app.run(prog);
